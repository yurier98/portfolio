import{a4 as y,bq as ne,m as se,br as ae,bs as R,bt as re,I as k,D as j,h as g,E as l,n as x,bu as ie,bv as O,_ as le,y as H,bw as ce,aX as U,c as q,e as f,d as S,w as b,aL as N,f as v,az as z,aJ as D,t as L,P as V,F as ue,bx as de,z as pe,q as me,a_ as A,b1 as fe,bh as ge,r as _e,b2 as he,by as ye,a$ as M,b0 as ve,bz as be,b5 as Pe,b3 as xe,bf as Ce,J as ke,aH as Te}from"./DKEpguWc.js";import{_ as we}from"./hbkjmKdh.js";import{h as E,M as Ie}from"./Tp4--tfo.js";import"./CdUl8RtI.js";import"./BcoM21Dg.js";function $e(a,s){const o={title:"label",path:"to"};return Object.keys(a).reduce((c,t)=>{if(a[t]){const p=o[t]||t;c[p]=a[t]}return c},{})}function Se(a,s){return a.map(o=>$e(o))}function F(a,s){return!(a!=null&&a.length)||!s?[]:a.reduce((o,c)=>(s.path&&(s.path+"/").startsWith(c.path+"/")&&c.children&&(o.push(c),o.push(...F(c.children,s))),o),[])}const G=["ProseA","ProseAccordion","ProseAccordionItem","ProseBadge","ProseBlockquote","ProseCallout","ProseCard","ProseCardGroup","ProseCode","ProseCodeCollapse","ProseCodeGroup","ProseCodeIcon","ProseCodePreview","ProseCodeTree","ProseCollapsible","ProseEm","ProseField","ProseFieldGroup","ProseH1","ProseH2","ProseH3","ProseH4","ProseHr","ProseIcon","ProseImg","ProseKbd","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseSteps","ProseStrong","ProseTable","ProseTabs","ProseTabsItem","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseCaution","ProseNote","ProseTip","ProseWarning","ProseH5","ProseH6","Icon"],J=[],je=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:G,localComponents:J},Symbol.toStringTag,{value:"Module"})),Le={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(a){const s=["render","ssrRender","__ssrInlineRender"],o=a,c=!1,t=y(()=>{let e=o.value.body||o.value;return o.excerpt&&o.value.excerpt&&(e=o.value.excerpt),e.type==="minimal"?ne(e):e}),p=y(()=>{var e,n;return!((n=(e=t.value)==null?void 0:e.children)!=null&&n.length)}),m=y(()=>{const{body:e,excerpt:n,...r}=o.value;return{...r,...o.data}}),T=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),{mdc:_}=se().public||{},w=y(()=>{var e,n,r,i;return{...(e=_==null?void 0:_.components)!=null&&e.prose&&o.prose!==!1?T:{},...((n=_==null?void 0:_.components)==null?void 0:n.map)||{},...ae(((i=(r=o.data)==null?void 0:r.mdc)==null?void 0:i.components)||{}),...o.components}}),I=y(()=>t.value?$(t.value,{tags:w.value}):{});function d(e){let n=e;if(typeof e=="string"){if(E.includes(e))return e;if(G.includes(R(e))?n=ie(e,!1):J.includes(R(e))&&(n=O(()=>le(()=>Promise.resolve().then(()=>je),void 0,import.meta.url).then(u=>{const h=u[R(e)];return h?h():void 0}))),typeof n=="string")return n}if(!n)return n;const r=n;return"__asyncLoader"in r?r:"setup"in r?O(()=>Promise.resolve(r)):r}function $(e,n){if(!e)return;const r=Array.from(new Set(P(e,n))),i={};for(const[u,h]of r)if(!i[u]){if(typeof h=="object"&&s.some(B=>Object.hasOwnProperty.call(h,B))){i[u]=h;continue}i[u]=d(h)}return i}function P(e,n){const r=e.tag;if(e.type==="text"||r==="binding"||e.type==="comment")return[];const i=C(e,n.tags),u=[];e.type!=="root"&&!E.includes(i)&&u.push([r,i]);for(const h of e.children||[])u.push(...P(h,n));return u}function C(e,n){var i;const r=e.tag;return!r||typeof((i=e.props)==null?void 0:i.__ignoreMap)<"u"?r:n[r]||n[R(r)]||n[re(e.tag)]||r}return(e,n)=>p.value?j(e.$slots,"empty",{key:1,body:t.value,data:m.value,dataContentId:l(c)?a.value.id:void 0}):(g(),k(Ie,{key:0,body:t.value,data:m.value,class:x(o.class),tag:o.tag,prose:o.prose,unwrap:o.unwrap,components:I.value,"data-content-id":l(c)?a.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},qe={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Re={key:1,class:"hidden lg:block"},Ue={__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const s=a,o=H(),[c,t]=ce({props:{link:Object,icon:String,direction:String}}),p=y(()=>{var m;return U({extend:U(qe),...((m=o.uiPro)==null?void 0:m.contentSurround)||{}})()});return(m,T)=>{var I;const _=z,w=N;return g(),q(ue,null,[f(l(c),null,{default:b(({link:d,icon:$,direction:P})=>{var C;return[d?(g(),k(w,{key:0,to:d.path,raw:"",class:x(p.value.link({class:[(C=s.ui)==null?void 0:C.link,d.class],direction:P}))},{default:b(()=>[j(m.$slots,"link",{link:d},()=>{var e,n,r;return[v("div",{class:x(p.value.linkLeading({class:(e=s.ui)==null?void 0:e.linkLeading}))},[j(m.$slots,"link-leading",{link:d},()=>{var i;return[f(_,{name:d.icon||$,class:x(p.value.linkLeadingIcon({class:(i=s.ui)==null?void 0:i.linkLeadingIcon,direction:P}))},null,8,["name","class"])]})],2),v("p",{class:x(p.value.linkTitle({class:(n=s.ui)==null?void 0:n.linkTitle}))},[j(m.$slots,"link-title",{link:d},()=>[D(L(d.title),1)])],2),v("p",{class:x(p.value.linkDescription({class:(r=s.ui)==null?void 0:r.linkDescription}))},[j(m.$slots,"link-description",{link:d},()=>[D(L(d.description),1)])],2)]})]),_:2},1032,["to","class"])):(g(),q("span",Re,"Â "))]}),_:3}),a.surround?(g(),k(l(V),{key:0,as:a.as,class:x(p.value.root({class:[s.class,(I=s.ui)==null?void 0:I.root]}))},{default:b(()=>[f(l(t),{link:a.surround[0],icon:a.prevIcon||l(o).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),f(l(t),{link:a.surround[1],icon:a.nextIcon||l(o).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},8,["as","class"])):S("",!0)],64)}}},Be={base:"mt-8 pb-24 space-y-12"},De={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(a){const s=a,o=H(),c=y(()=>{var t;return U({extend:U(Be),...((t=o.uiPro)==null?void 0:t.pageBody)||{}})});return(t,p)=>(g(),k(l(V),{as:a.as,class:x(c.value({class:s.class}))},{default:b(()=>[j(t.$slots,"default")]),_:3},8,["as","class"]))}};function Oe(a,s="Copied to clipboard"){const o=de();navigator.clipboard.writeText(a).then(()=>{o.add({title:s,color:"success",icon:"i-lucide-check-circle"})})}const Ae={class:"flex flex-col gap-3 mt-8"},Me={class:"flex text-xs text-muted items-center justify-center gap-2"},Ee={key:0},He={key:1},Ne={key:2},ze={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},Ve={class:"text-muted text-center max-w-2xl mx-auto"},Fe={class:"flex items-center justify-center gap-2 mt-2"},Ge={class:"flex items-center justify-end gap-2 text-sm text-muted"},Ze=pe({__name:"[...slug]",async setup(a){var $,P,C,e,n,r;let s,o;const c=me(),{data:t}=([s,o]=A(()=>M(c.path,()=>ve("blog").path(c.path).first(),"$DquttgHoet")),s=await s,o(),s);if(!t.value)throw fe({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:p}=([s,o]=A(()=>M(`${c.path}-surround`,()=>be("blog",c.path,{fields:["description"]}))),s=await s,o(),s),m=ge("navigation",_e([])),T=y(()=>{var i;return((i=m.value.find(u=>u.path==="/blog"))==null?void 0:i.children)||[]});y(()=>Se(F(T==null?void 0:T.value,t.value)).map(({icon:i,...u})=>u)),t.value.image;const _=((P=($=t.value)==null?void 0:$.seo)==null?void 0:P.title)||((C=t.value)==null?void 0:C.title),w=((n=(e=t.value)==null?void 0:e.seo)==null?void 0:n.description)||((r=t.value)==null?void 0:r.description);he({title:_,description:w,ogDescription:w,ogTitle:_});const I=y(()=>`${window.location}${c.path}`),d=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(i,u)=>{const h=z,B=N,K=Ce,W=we,X=Le,Q=Te,Y=Ue,Z=De,ee=xe,te=Pe,oe=ye;return g(),k(oe,{class:"mt-20 px-2"},{default:b(()=>[f(te,{class:"relative min-h-screen"},{default:b(()=>[l(t)?(g(),k(ee,{key:0},{default:b(()=>[f(B,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:b(()=>[f(h,{name:"lucide:chevron-left"}),u[1]||(u[1]=D(" Blog "))]),_:1}),v("div",Ae,[v("div",Me,[l(t).date?(g(),q("span",Ee,L(d(l(t).date)),1)):S("",!0),l(t).date&&l(t).minRead?(g(),q("span",He," - ")):S("",!0),l(t).minRead?(g(),q("span",Ne,L(l(t).minRead)+" MIN READ ",1)):S("",!0)]),f(K,{src:l(t).image,alt:l(t).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),v("h1",ze,L(l(t).title),1),v("p",Ve,L(l(t).description),1),v("div",Fe,[f(W,ke({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},l(t).author),null,16)])]),f(Z,{class:"max-w-3xl mx-auto"},{default:b(()=>[l(t).body?(g(),k(X,{key:0,value:l(t)},null,8,["value"])):S("",!0),v("div",Ge,[f(Q,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:u[0]||(u[0]=Je=>("copyToClipboard"in i?i.copyToClipboard:l(Oe))(l(I),"Article link copied to clipboard"))})]),f(Y,{surround:l(p)},null,8,["surround"])]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1})}}});export{Ze as default};
